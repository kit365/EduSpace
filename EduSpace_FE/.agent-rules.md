# ğŸ›¡ï¸ AGENT SAFETY RULES â€” EduSpace Project
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# File nÃ y PHáº¢I Ä‘Æ°á»£c Ä‘á»c bá»Ÿi Agent (Antigravity / Cursor / Copilot / Codeium)
# táº¡i Äáº¦U Má»–I CONVERSATION má»›i.
#
# Má»¥c Ä‘Ã­ch: NgÄƒn cháº·n cÃ¡c hÃ nh vi nguy hiá»ƒm, báº£o vá»‡ dá»¯ liá»‡u dá»± Ã¡n.
# File nÃ y Ä‘Æ°á»£c track bá»Ÿi Git â€” KHÃ”NG gitignore.
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

---

## ğŸ“Œ NGUYÃŠN Táº®C Tá»”NG QUAN

> **Má»ŒI hÃ nh Ä‘á»™ng cÃ³ tÃ­nh phÃ¡ há»§y hoáº·c khÃ´ng thá»ƒ hoÃ n tÃ¡c Ä‘á»u PHáº¢I cÃ³ xÃ¡c nháº­n
> rÃµ rÃ ng báº±ng vÄƒn báº£n tá»« ngÆ°á»i dÃ¹ng trÆ°á»›c khi thá»±c thi.**

---

## ğŸš« QUY Táº®C 1 â€” KHÃ”NG Tá»° Ã COMMIT

- **TUYá»†T Äá»I KHÃ”NG** cháº¡y `git commit` dÆ°á»›i báº¥t ká»³ hÃ¬nh thá»©c nÃ o mÃ  chÆ°a cÃ³
  xÃ¡c nháº­n rÃµ rÃ ng tá»« ngÆ°á»i dÃ¹ng.
- Bao gá»“m táº¥t cáº£ cÃ¡c biáº¿n thá»ƒ:
  ```
  git commit
  git commit -m "..."
  git commit -am "..."
  git commit --amend
  ```
- Náº¿u cáº§n commit, Agent PHáº¢I:
  1. ThÃ´ng bÃ¡o danh sÃ¡ch file thay Ä‘á»•i (`git status`)
  2. **Äá» xuáº¥t** commit message
  3. **CHá»œ** ngÆ°á»i dÃ¹ng xÃ¡c nháº­n "OK" hoáº·c "Commit Ä‘i"
  4. Chá»‰ sau khi nháº­n xÃ¡c nháº­n má»›i Ä‘Æ°á»£c thá»±c thi

---

## ğŸš« QUY Táº®C 2 â€” KHÃ”NG Tá»° Ã PUBLISH / PUSH / DEPLOY

- **TUYá»†T Äá»I KHÃ”NG** cháº¡y cÃ¡c lá»‡nh sau mÃ  chÆ°a cÃ³ xÃ¡c nháº­n:
  ```
  git push
  git push --force
  git push -f
  git push origin ...
  npm publish
  npx vercel --prod
  firebase deploy
  ```
- Bao gá»“m báº¥t ká»³ lá»‡nh nÃ o Ä‘áº©y code lÃªn remote repository hoáº·c deploy lÃªn
  mÃ´i trÆ°á»ng production/staging.

---

## ğŸš« QUY Táº®C 3 â€” DANH SÃCH Lá»†NH Bá»Š Cáº¤M (BLOCKED COMMANDS)

> CÃ¡c lá»‡nh dÆ°á»›i Ä‘Ã¢y bá»‹ **Cáº¤M HOÃ€N TOÃ€N**. Agent **KHÃ”NG ÄÆ¯á»¢C** tá»± Ã½ thá»±c thi
> dÆ°á»›i báº¥t ká»³ hoÃ n cáº£nh nÃ o. Náº¿u cáº§n thiáº¿t, PHáº¢I giáº£i thÃ­ch lÃ½ do vÃ 
> **CHá»œ xÃ¡c nháº­n rÃµ rÃ ng** tá»« ngÆ°á»i dÃ¹ng.

### NHÃ“M 1 â€” Cá»°C Ká»² NGUY HIá»‚M (Há»§y dá»¯ liá»‡u, khÃ³/khÃ´ng khÃ´i phá»¥c)

| Lá»‡nh | MÃ´ táº£ | Má»©c Ä‘á»™ |
|---|---|---|
| `rm -rf` | XÃ³a Ä‘á»‡ quy + khÃ´ng há»i, cÃ³ thá»ƒ xÃ³a toÃ n bá»™ há»‡ thá»‘ng | ğŸ”´ CRITICAL |
| `rm -r` | XÃ³a thÆ° má»¥c vÃ  toÃ n bá»™ ná»™i dung bÃªn trong | ğŸ”´ CRITICAL |
| `rm` | XÃ³a file trá»±c tiáº¿p, khÃ´ng qua thÃ¹ng rÃ¡c | ğŸ”´ CRITICAL |
| `unlink` | XÃ³a file á»Ÿ má»©c filesystem, khÃ´ng thá»ƒ undo | ğŸ”´ CRITICAL |
| `shred` | Ghi Ä‘Ã¨ dá»¯ liá»‡u nhiá»u láº§n Ä‘á»ƒ khÃ´ng thá»ƒ phá»¥c há»“i | ğŸ”´ CRITICAL |
| `wipe` | XÃ³a dá»¯ liá»‡u vÄ©nh viá»…n trÃªn disk | ğŸ”´ CRITICAL |
| `dd` | Ghi/chÃ©p block thÃ´, dá»… phÃ¡ há»§y disk hoáº·c partition | ğŸ”´ CRITICAL |
| `dd if=/dev/zero` | Ghi sá»‘ 0 lÃªn thiáº¿t bá»‹, xÃ³a sáº¡ch dá»¯ liá»‡u | ğŸ”´ CRITICAL |
| `dd if=/dev/null` | LÃ m há»ng ná»™i dung thiáº¿t bá»‹ náº¿u dÃ¹ng sai | ğŸ”´ CRITICAL |
| `mkfs` / `mkfs.ext4` / `mkfs.xfs` | Táº¡o filesystem má»›i, xÃ³a sáº¡ch dá»¯ liá»‡u cÅ© | ğŸ”´ CRITICAL |
| `format` | Format á»• Ä‘Ä©a (Unix / Windows) | ğŸ”´ CRITICAL |
| `Format-Volume` | PowerShell format volume | ğŸ”´ CRITICAL |

### NHÃ“M 2 â€” NGUY HIá»‚M CAO (XÃ³a thÆ° má»¥c / nhiá»u file)

| Lá»‡nh | MÃ´ táº£ | Má»©c Ä‘á»™ |
|---|---|---|
| `rmdir` | XÃ³a thÆ° má»¥c (thÆ°á»ng lÃ  thÆ° má»¥c rá»—ng) | ğŸŸ  HIGH |
| `rd` | XÃ³a thÆ° má»¥c trong Windows | ğŸŸ  HIGH |
| `rmdir /s` | XÃ³a thÆ° má»¥c vÃ  toÃ n bá»™ ná»™i dung (Windows) | ğŸŸ  HIGH |
| `Remove-Item -Recurse` | PowerShell xÃ³a Ä‘á»‡ quy thÆ° má»¥c vÃ  file | ğŸŸ  HIGH |
| `Remove-Item` | PowerShell xÃ³a file / thÆ° má»¥c | ğŸŸ  HIGH |
| `del /s` | CMD xÃ³a nhiá»u file trong thÆ° má»¥c con | ğŸŸ  HIGH |
| `erase /s` | CMD xÃ³a hÃ ng loáº¡t file | ğŸŸ  HIGH |

### NHÃ“M 3 â€” NGUY HIá»‚M TRUNG BÃŒNH (XÃ³a file / ghi Ä‘Ã¨)

| Lá»‡nh | MÃ´ táº£ | Má»©c Ä‘á»™ |
|---|---|---|
| `del` | XÃ³a file trong Windows | ğŸŸ¡ MEDIUM |
| `erase` | TÆ°Æ¡ng Ä‘Æ°Æ¡ng del | ğŸŸ¡ MEDIUM |
| `Clear-Content` | XÃ³a ná»™i dung file nhÆ°ng giá»¯ file | ğŸŸ¡ MEDIUM |
| `cp --remove-destination` | Ghi Ä‘Ã¨ file Ä‘Ã­ch báº±ng cÃ¡ch xÃ³a trÆ°á»›c | ğŸŸ¡ MEDIUM |

### NHÃ“M 4 â€” NGUY HIá»‚M GIÃN TIáº¾P (Di chuyá»ƒn / Ä‘á»“ng bá»™ xÃ³a)

| Lá»‡nh | MÃ´ táº£ | Má»©c Ä‘á»™ |
|---|---|---|
| `mv` | Di chuyá»ƒn / ghi Ä‘Ã¨ file, máº¥t dá»¯ liá»‡u cÅ© | ğŸŸ¡ MEDIUM |
| `rsync --delete` | XÃ³a file á»Ÿ Ä‘Ã­ch náº¿u khÃ´ng cÃ²n á»Ÿ nguá»“n | ğŸŸ¡ MEDIUM |
| `rsync --remove-source-files` | Di chuyá»ƒn file báº±ng cÃ¡ch xÃ³a nguá»“n | ğŸŸ¡ MEDIUM |
| `install` | Ghi Ä‘Ã¨ file há»‡ thá»‘ng khi cÃ i Ä‘áº·t | ğŸŸ¡ MEDIUM |

### NHÃ“M 5 â€” Quáº£n lÃ½ Disk / Partition (Rá»§i ro cao náº¿u dÃ¹ng sai)

| Lá»‡nh | MÃ´ táº£ | Má»©c Ä‘á»™ |
|---|---|---|
| `fdisk` | Chá»‰nh sá»­a partition table | ğŸŸ  HIGH |
| `cfdisk` | fdisk dáº¡ng giao diá»‡n | ğŸŸ  HIGH |
| `parted` | Quáº£n lÃ½ partition nÃ¢ng cao | ğŸŸ  HIGH |
| `diskpart` | CÃ´ng cá»¥ partition cá»§a Windows | ğŸŸ  HIGH |
| `mount` | Gáº¯n filesystem (ghi Ä‘Ã¨ mount point) | ğŸŸ¡ MEDIUM |
| `umount` | ThÃ¡o filesystem, cÃ³ thá»ƒ máº¥t dá»¯ liá»‡u Ä‘ang ghi | ğŸŸ¡ MEDIUM |

### NHÃ“M 6 â€” Ãt nguy hiá»ƒm nhÆ°ng cÃ³ thá»ƒ gÃ¢y háº­u quáº£

| Lá»‡nh | MÃ´ táº£ | Má»©c Ä‘á»™ |
|---|---|---|
| `truncate` | Cáº¯t ngáº¯n file (cÃ³ thá»ƒ vá» 0 byte) | ğŸŸ¡ MEDIUM |
| `chown` | Äá»•i owner, cÃ³ thá»ƒ lÃ m máº¥t quyá»n truy cáº­p | âšª LOW |
| `chmod` | Äá»•i permission, cÃ³ thá»ƒ khÃ³a file | âšª LOW |
| `attrib` | Thay Ä‘á»•i thuá»™c tÃ­nh file (Windows) | âšª LOW |

---

## ğŸš« QUY Táº®C 4 â€” KHÃ”NG Tá»° Ã THAY Äá»”I Cáº¤U TRÃšC THÆ¯ Má»¤C

- **KHÃ”NG** tá»± Ã½ táº¡o, Ä‘á»•i tÃªn, di chuyá»ƒn, hoáº·c xÃ³a **thÆ° má»¥c** mÃ  chÆ°a
  cÃ³ xÃ¡c nháº­n.
- **KHÃ”NG** tá»± Ã½ Ä‘á»•i tÃªn file mÃ  chÆ°a cÃ³ xÃ¡c nháº­n.
- Khi cáº§n thay Ä‘á»•i cáº¥u trÃºc thÆ° má»¥c, Agent PHáº¢I:
  1. Liá»‡t kÃª rÃµ rÃ ng cÃ¡c thay Ä‘á»•i dá»± kiáº¿n (táº¡o gÃ¬, xÃ³a gÃ¬, di chuyá»ƒn gÃ¬)
  2. Giáº£i thÃ­ch lÃ½ do
  3. **CHá»œ** ngÆ°á»i dÃ¹ng xÃ¡c nháº­n

---

## âœ… QUY Táº®C 5 â€” HÃ€NH VI ÄÆ¯á»¢C PHÃ‰P (KHÃ”NG Cáº¦N XÃC NHáº¬N)

CÃ¡c hÃ nh vi sau Ä‘Æ°á»£c phÃ©p thá»±c thi **khÃ´ng cáº§n há»i**:

| HÃ nh vi | VÃ­ dá»¥ |
|---|---|
| Äá»c file | `cat`, `view_file`, `grep`, `find` |
| Táº¡o file **má»›i** (khÃ´ng ghi Ä‘Ã¨) | `write_to_file` vá»›i `Overwrite: false` |
| Chá»‰nh sá»­a ná»™i dung file Ä‘Ã£ cÃ³ | `replace_file_content`, `multi_replace_file_content` |
| Cháº¡y dev server | `npm run dev`, `npm start` |
| CÃ i dependencies | `npm install <package>` |
| Cháº¡y tests | `npm test`, `npm run lint` |
| Xem git status/log | `git status`, `git log`, `git diff` |
| Táº¡o branch má»›i | `git checkout -b <branch>` |
| Cháº¡y build kiá»ƒm tra | `npm run build` |
| Xem tráº¡ng thÃ¡i há»‡ thá»‘ng | `ls`, `pwd`, `which`, `node -v` |

---

## ğŸ“‹ QUY Táº®C 6 â€” QUY TRÃŒNH XÃC NHáº¬N

Khi cáº§n thá»±c hiá»‡n hÃ nh vi bá»‹ cháº·n, Agent PHáº¢I tuÃ¢n theo quy trÃ¬nh sau:

```
1. ğŸŸ¡ THÃ”NG BÃO: MÃ´ táº£ hÃ nh vi cáº§n thá»±c hiá»‡n
2. ğŸ“ GIáº¢I THÃCH: LÃ½ do táº¡i sao cáº§n lÃ m
3. ğŸ“‹ LIá»†T KÃŠ: Lá»‡nh cá»¥ thá»ƒ sáº½ cháº¡y
4. âš ï¸ Cáº¢NH BÃO: Rá»§i ro tiá»m áº©n (náº¿u cÃ³)
5. â“ Há»I: "Báº¡n cÃ³ xÃ¡c nháº­n cho phÃ©p thá»±c hiá»‡n khÃ´ng?"
6. â³ CHá»œ: Chá»‰ thá»±c thi SAU KHI nháº­n Ä‘Æ°á»£c xÃ¡c nháº­n rÃµ rÃ ng
```

**CÃ¡c cÃ¢u tráº£ lá»i Ä‘Æ°á»£c coi lÃ  xÃ¡c nháº­n:**
- "OK", "ÄÆ°á»£c", "Äá»“ng Ã½", "Yes", "Go ahead", "LÃ m Ä‘i", "Confirm"

**CÃ¡c cÃ¢u tráº£ lá»i KHÃ”NG Ä‘Æ°á»£c coi lÃ  xÃ¡c nháº­n:**
- Im láº·ng, cÃ¢u há»i ngÆ°á»£c láº¡i, cÃ¢u tráº£ lá»i mÆ¡ há»“

---

## ğŸ”’ QUY Táº®C 7 â€” GIT SAFETY

- **KHÃ”NG** `git reset --hard`
- **KHÃ”NG** `git clean -fd`
- **KHÃ”NG** `git checkout -- .` (revert táº¥t cáº£ thay Ä‘á»•i)
- **KHÃ”NG** `git stash drop`
- **KHÃ”NG** `git branch -D` (force delete branch)
- **KHÃ”NG** `git rebase` trÃªn branch Ä‘Ã£ Ä‘Æ°á»£c push
- **KHÃ”NG** `git push --force` / `git push -f`

Táº¥t cáº£ cÃ¡c lá»‡nh trÃªn Ä‘á»u PHáº¢I cÃ³ xÃ¡c nháº­n trÆ°á»›c khi thá»±c thi.

---

## ğŸ“‚ QUY Táº®C 8 â€” Cáº¤U TRÃšC Dá»° ÃN

Agent cáº§n tuÃ¢n thá»§ cáº¥u trÃºc thÆ° má»¥c hiá»‡n táº¡i cá»§a dá»± Ã¡n:

```
EduSpace_FE/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ admin/              # Admin Panel
â”‚   â”‚   â”œâ”€â”€ features/admin/ # Admin features (pages, components, hooks, data, types)
â”‚   â”‚   â”œâ”€â”€ layouts/        # Admin layouts
â”‚   â”‚   â””â”€â”€ routes/         # Admin routing
â”‚   â”œâ”€â”€ client/             # Customer-facing (User Mode)
â”‚   â”‚   â””â”€â”€ features/       # Customer features
â”‚   â”œâ”€â”€ host/               # Host Console
â”‚   â”‚   â””â”€â”€ features/       # Host features
â”‚   â”œâ”€â”€ components/         # Shared components
â”‚   â”œâ”€â”€ types/              # Shared TypeScript types
â”‚   â”œâ”€â”€ i18n/               # Internationalization (vi, en)
â”‚   â””â”€â”€ ...
â”œâ”€â”€ public/
â”œâ”€â”€ .agent-rules.md         # â† FILE NÃ€Y
â””â”€â”€ package.json
```

- **KHÃ”NG** táº¡o file/thÆ° má»¥c ngoÃ i cáº¥u trÃºc trÃªn mÃ  khÃ´ng há»i.
- **KHÃ”NG** di chuyá»ƒn file giá»¯a cÃ¡c module (admin â†” client â†” host) mÃ  khÃ´ng há»i.
- File má»›i pháº£i Ä‘áº·t Ä‘Ãºng theo quy táº¯c phÃ¢n loáº¡i:
  - Trang má»›i â†’ `features/<module>/pages/`
  - Component má»›i â†’ `features/<module>/components/`
  - Type má»›i â†’ `src/types/`
  - Mock data â†’ `features/<module>/data/`
  - Hooks â†’ `features/<module>/hooks/`

---

## ğŸŒ QUY Táº®C 9 â€” I18N (ÄA NGÃ”N NGá»®)

- Khi táº¡o hoáº·c chá»‰nh sá»­a UI text, **PHáº¢I** cáº­p nháº­t cáº£ 2 file:
  - `src/i18n/locales/vi.ts` (Tiáº¿ng Viá»‡t)
  - `src/i18n/locales/en.ts` (English)
- **KHÃ”NG** hardcode text trá»±c tiáº¿p trong JSX náº¿u Ä‘Ã£ cÃ³ há»— trá»£ i18n cho
  module Ä‘Ã³.
- Key i18n pháº£i tuÃ¢n theo cáº¥u trÃºc phÃ¢n cáº¥p rÃµ rÃ ng:
  `module.section.fieldName` (vÃ­ dá»¥: `host.register.pageTitle`)

---

## ğŸ”„ QUY Táº®C 10 â€” TRÆ¯á»šC Má»–I CONVERSATION Má»šI

Agent PHáº¢I thá»±c hiá»‡n:

1. **Äá»c file nÃ y** (`.agent-rules.md`) trÆ°á»›c khi báº¯t Ä‘áº§u báº¥t ká»³ task nÃ o
2. **XÃ¡c nháº­n** Ä‘Ã£ Ä‘á»c vÃ  sáº½ tuÃ¢n thá»§ cÃ¡c quy táº¯c
3. **Kiá»ƒm tra** cáº¥u trÃºc thÆ° má»¥c hiá»‡n táº¡i náº¿u task liÃªn quan Ä‘áº¿n táº¡o file má»›i

---

## ğŸ“… Lá»‹ch sá»­ cáº­p nháº­t

| NgÃ y | Thay Ä‘á»•i |
|---|---|
| 2026-02-21 | Táº¡o file rules ban Ä‘áº§u â€”  Tuáº¥n Kiá»‡t |

---

> **âš ï¸ LÆ¯U Ã CUá»I: File nÃ y lÃ  "luáº­t" cho Agent. Vi pháº¡m báº¥t ká»³ quy táº¯c nÃ o
> á»Ÿ trÃªn Ä‘á»u cÃ³ thá»ƒ gÃ¢y máº¥t dá»¯ liá»‡u vÃ  áº£nh hÆ°á»Ÿng nghiÃªm trá»ng Ä‘áº¿n dá»± Ã¡n.
> Agent PHáº¢I Æ°u tiÃªn an toÃ n hÆ¡n tá»‘c Ä‘á»™.**
